---
import AppStore from '@/assets/images/AppStore.svg';
import GooglePlay from '@/assets/images/PlayStore.svg';
import tenis from '@/assets/images/sports/tenis.png';
import escalada from '@/assets/images/sports/escalada.webp';
const images = [escalada.src, tenis.src];
---
<section class="flex flex-col items-center justify-center w-full max-w-max-content mx-auto pt-12 sm:pt-16 md:pt-20 lg:pt-24 mb-16 sm:mb-20 md:mb-24 lg:mb-32">
  <div id="slider" data-images={JSON.stringify(images)} class="relative w-full overflow-hidden h-[60vw] max-h-[700px] min-h-[300px]">
    <img id="slider-img-1" src={images[0]} alt="Deporte escalada" class="absolute inset-0 object-cover w-full h-full transition-opacity duration-700" style="opacity:1;" />
    <img id="slider-img-2" src={images[1]} alt="Deporte tenis" class="absolute inset-0 object-cover w-full h-full transition-opacity duration-700" style="opacity:0;" />

    <!-- Texto 1: sólo en lg+ -->
    <h1 class="hidden lg:block absolute transform -translate-x-1/2 -translate-y-1/2 text-secondary font-bold italic text-center [text-shadow:_1px_1px_2px_rgba(0,0,0,0.3)]"
        style="top:38%; left:25%; font-size:clamp(1.5rem,4vw,3rem);">
      <span class="block">DESCARGA</span><span class="block">LA APP</span>
    </h1>

    <!-- Texto 2: sólo en lg+ -->
    <h1 class="hidden lg:block absolute transform -translate-x-1/2 -translate-y-1/2 text-secondary font-bold italic text-center [text-shadow:_1px_1px_2px_rgba(0,0,0,0.3)]"
        style="top:48%; left:52%; font-size:clamp(1.5rem,4vw,3rem);">
      <span class="block">Y HAZ</span><span class="block">MATCH</span>
    </h1>

    <!-- Iconos: centrados por defecto, a la derecha en lg -->
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col gap-4 items-center lg:left-auto lg:right-10 lg:translate-x-0 lg:-translate-y-1/2">
      <a href="#" target="_blank" rel="noopener noreferrer">
        <GooglePlay class="w-48 sm:w-52 md:w-56 lg:w-64 xl:w-72 h-auto cursor-pointer hover:scale-110 transition duration-300" />
      </a>
      <a href="#" target="_blank" rel="noopener noreferrer">
        <AppStore class="w-48 sm:w-52 md:w-56 lg:w-64 xl:w-72 h-auto cursor-pointer hover:scale-110 transition duration-300" />
      </a>
    </div>
  </div>
</section>

<script is:inline>
const sliderEl = document.getElementById('slider');
if (sliderEl) {
  const images = JSON.parse(sliderEl.dataset.images);
  const img1 = document.getElementById('slider-img-1');
  const img2 = document.getElementById('slider-img-2');
  let next = 1;
  let showingFirst = true;
  setInterval(() => {
    if (showingFirst) {
      img2.src = images[next]; img2.style.opacity = '1'; img1.style.opacity = '0';
    } else {
      img1.src = images[next]; img1.style.opacity = '1'; img2.style.opacity = '0';
    }
    showingFirst = !showingFirst;
    next = (next + 1) % images.length;
  }, 6000);
}
</script>
